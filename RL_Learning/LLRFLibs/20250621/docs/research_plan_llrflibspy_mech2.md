# 研究计划: aaqiao/llrflibspy库中mech2示例代码

## 目标
- 深入分析GitHub上`aaqiao/llrflibspy`库的`mech2`示例代码。
- 提炼超导射频（SRF）关键参数、计算模型和实现细节。
- 为开发"virtual superconducting cavity" HTML交互界面提供坚实的技术基础和清晰的实现蓝图。

## 研究分解
1.  **代码定位与环境准备**:
    *   在GitHub上搜索并定位`aaqiao/llrflibspy`项目。
    *   找到`mech2`示例代码，并分析其目录结构和依赖关系。
2.  **SRF参数识别与解读**:
    *   从代码中提取所有与SRF相关的参数（如品质因数Q, 失谐频率, 耦合系数等）。
    *   查阅资料，理解每个参数的物理意义、单位和典型值范围。
3.  **数学模型与计算逻辑分析**:
    *   分析代码中的核心算法，特别是超导腔体状态（如腔内电场、相位）的动态模拟部分。
    *   识别并理解用于描述腔体行为的微分方程或核心计算公式。
    *   研究`mech2`示例中与机械模式（mechanical modes）相关的特定模型。
4.  **HTML界面实现规划**:
    *   根据分析结果，筛选出适合作为HTML界面用户输入的参数（例如：束流强度、初始失谐）。
    *   确定需要在界面上进行可视化展示的动态数据（例如：腔体电压变化曲线、反射功率曲线、所需驱动功率等）。
    *   构思可视化方案（例如：使用何种图表库，如何布局）。
5.  **技术报告撰写**:
    *   汇总所有分析结果，编写一份详细的技术分析报告。
    *   报告中需包含代码片段、参数列表、公式解释和HTML界面实现建议。

## 关键问题
1.  `mech2`示例代码的具体位置在哪里？它依赖哪些库？
2.  代码中定义了哪些关键SRF物理参数？它们的具体含义是什么？
3.  超导腔的模拟是基于什么数学模型？控制方程是什么？
4.  `mech2`示例与基础的LLRF（低电平射频）模型有何不同？“mech”代表什么？
5.  哪些参数最适合在前端让用户进行交互式调整？
6.  哪些计算结果最适合以图表形式动态展示给用户？

## 资源策略
-   **主要信息来源**: GitHub (`aaqiao/llrflibspy` 源代码、文档和相关issue)。
-   **辅助信息来源**: 使用网络搜索引擎查询SRF、LLRF相关物理概念、标准教科书和学术论文。
-   **搜索策略**: "aaqiao llrflibspy github", "srf cavity model python", "low level rf control simulation", "lorentz force detuning model"。

## 验证计划
-   **代码验证**: 尝试在本地环境中运行或逐步执行代码片段，验证其计算逻辑和输出结果。
-   **信息交叉验证**: 将从代码中理解的模型与从公开学术资料中找到的SRF理论模型进行比对，确保一致性。

## 预期交付物
-   一份名为 `docs/llrflibspy_mech2_analysis_report.md` 的详细技术分析报告。报告内容应包括：
    *   项目代码结构概述。
    *   关键SRF参数及其物理意义的详尽列表。
    *   核心计算模型的数学公式和代码实现分析。
    *   针对Virtual Superconducting Cavity HTML界面的具体开发建议（输入参数、可视化图表）。
    *   关键代码片段的注释和说明。

## 工作流选择
-   **主要焦点**: 搜索 (Search-focused)
-   **理由**: 本任务的核心是首先从未知的外部代码库中发现和收集信息，然后进行分析和整理。因此，前期的重点是搜索、定位和理解信息，符合搜索驱动的工作流。
