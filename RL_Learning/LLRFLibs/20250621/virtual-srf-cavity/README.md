# 虚拟超导射频腔仿真系统

## 项目概述

基于 LLRFLibsPy 库 mech2 示例开发的交互式超导射频腔仿真系统，专注于洛伦兹力失谐效应的动态建模和可视化分析。

## 核心功能

### 🎛️ 参数控制系统
- **基本参数**：束流强度、初始失谐、驱动幅度、仿真时间
- **高级参数**：有载品质因数 QL、耦合系数 β、R/Q 阻抗、射频频率
- **机械模式**：5个独立机械振动模式的频率、品质因数和洛伦兹力系数

### 📊 动态可视化
- **腔体电压**：实时显示电压幅度和相位变化
- **失谐效应**：动态失谐曲线和束流脉冲波形
- **功率分析**：前向功率和反射功率的时间演化
- **机械振动**：机械位移随时间的变化

### 🔬 物理模型
- 基于状态空间模型的电磁-机械耦合仿真
- 洛伦兹力失谐效应的精确计算
- 多模式机械振动的动态响应
- 实时参数调整和结果更新

## 技术架构

### 前端技术栈
- **React 18.3** + **TypeScript** - 类型安全的组件开发
- **Vite 6.0** - 快速构建工具
- **Tailwind CSS** - 现代化样式框架
- **Recharts** - 专业图表可视化
- **Radix UI** - 高质量UI组件

### 核心算法
- **SRF物理引擎** (`src/lib/srf-physics.ts`)
  - 复数电压计算
  - 状态空间离散化
  - 洛伦兹力失谐建模
  - 机械系统动态响应

### 组件架构
- **ParameterControls** - 参数控制面板
- **SimulationCharts** - 多标签页图表显示
- **SRFPhysicsEngine** - 核心计算引擎

## 科学意义

### 洛伦兹力失谐效应
当超导腔内电磁场增强时，洛伦兹力对腔壁施加压力，导致机械形变，进而改变谐振频率。本系统可以实时模拟这种复杂的电磁-机械耦合过程。

### 多模式振动分析
超导腔具有多个机械振动模式，每个模式对频率稳定性的影响不同。系统允许用户独立调整每个模式的参数，观察其对整体性能的影响。

### LLRF控制系统设计
为低电平射频控制系统的设计提供理论基础和性能预测，帮助工程师优化控制策略。

## 使用说明

### 快速开始
1. 访问 [仿真系统](https://do0ypk05xg.space.minimax.io)
2. 页面加载后自动运行初始仿真
3. 在左侧参数面板调整参数
4. 在右侧图表区域查看实时结果

### 参数调整
- 使用滑块快速调整主要参数
- 在高级参数标签页设置系统特性
- 在机械模式标签页自定义振动模式

### 结果分析
- 切换不同图表标签页查看各种物理量
- 悬停图表显示精确数值
- 观察参数变化对系统行为的影响

## 项目结构

```
virtual-srf-cavity/
├── src/
│   ├── components/
│   │   ├── ParameterControls.tsx    # 参数控制组件
│   │   └── SimulationCharts.tsx     # 图表显示组件
│   ├── lib/
│   │   └── srf-physics.ts           # 物理计算引擎
│   └── App.tsx                      # 主应用组件
├── public/
│   ├── data/
│   │   └── srf-config.json          # 配置参数
│   └── images/                      # 科学图片资源
└── README.md
```

## 开发指南

### 本地开发
```bash
# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev

# 构建生产版本
pnpm build
```

### 添加新功能
1. 在 `src/lib/srf-physics.ts` 添加新的物理模型
2. 在 `ParameterControls.tsx` 添加新的参数控制
3. 在 `SimulationCharts.tsx` 添加新的可视化

## 基于研究

本项目基于对 [aaqiao/LLRFLibsPy](https://github.com/aaqiao/LLRFLibsPy) 库的深入分析，特别是 `example_sim_cavity_mech2.py` 示例中的洛伦兹力失谐建模方法。

## 版权信息

基于 LLRFLibsPy 库开发 | 超导射频腔物理仿真 | 2025
